<!DOCTYPE html>
<html>
<head>
	<title>Leafy Basic</title>
	
	<!--Leaflet-->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
	<script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
	<!--<script>leafet-providers.js</script>-->
  
	<style type="text/css">
		html,body,#map { 
			height:100%; 
			width:100%;
		}
	</style>
</head>
	
<body>
	<div id="map"></div>
	<script>
		var map = L.map('map').setView([39.733635, -104.962921], 14);
		var Stamen_TonerLite = L.tileLayer('http://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}', {
			attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
			subdomains: 'abcd',
			minZoom: 0,
			maxZoom: 20,
			ext: 'png'
		}).addTo(map);
		
		var marker = L.marker([39.733636, -104.962920], {
		draggable: true
	      }).addTo(map); 
		
	var routing = new L.Routing({
		  position: 'topright'
		  ,routing: {
		    router: myRouterFunction
		  }
		  ,tooltips: {
		    waypoint: 'Waypoint. Drag to move; Click to remove.',
		    segment: 'Drag to create a new waypoint'
		  }
		  ,styles: {     // see http://leafletjs.com/reference.html#polyline-options
		    trailer: {}  // drawing line
		    ,track: {}   // calculated route result
		    ,nodata: {}  // line when no result (error)
		  }
		  ,snapping: {
		    layers: [mySnappingLayer]
		    ,sensitivity: 15
		    ,vertexonly: false
		  }
		  ,shortcut: {
		    draw: {
		      enable: 68    // 'd'
		      ,disable: 81  // 'q'
		    }
		  }
		});
		map.addControl(routing);
		routing.draw(true);
		var polyline = routing.toPolyline();
		var first = routing.getFirst([39.733636, -104.962920]);
		var last = routing.getLast(marker);
		
	</script>
	
</body>
</html>
